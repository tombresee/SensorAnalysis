
--- project ---

Running DBSCAN on a large window of 2 months for a single sensor

Creating a rough gridspec matrix (eps and min_samples varying)





--- code ---

r1 = [.01, .02, .03, .04, .05, .06, .07, .08, .09, .10, .11, .12, .13, .14, .15, .16, .17, .18, .19, .20]
r2 = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25]

for i in r1:
    for j in r2:
        db = DBSCAN(eps=i, min_samples=j, metric='euclidean', n_jobs=-1).fit(X)
        label=db.labels_
        sample_cores=np.zeros_like(label,dtype=bool)
        sample_cores[db.core_sample_indices_]=True
        n_clusters=len(set(label))- (1 if -1 in label else 0)
        print('eps:', i, "min_samples:", j)
        print('Cluster Count:',n_clusters)
        tsys["cluster"] = db.labels_
        print(tsys["cluster"].value_counts(), '\n')





--- results ---

eps: 0.002 min_samples: 15
Cluster Count: 41
 0     195667
 23      2064
 5       1816
-1       1568
 21       452
 19       435
 16       175
 37       155
 22       149
 35       126
 24       111
 18        62
 14        41
 32        40
 15        36
 17        32
 25        32
 10        32
 34        32
 20        32
 38        29
 2         28
 28        27
 7         26
 9         26
 33        25
 39        24
 12        24
 1         20
 8         20
 3         18
 11        18
 6         17
 31        16
 36        16
 13        16
 26        15
 40        15
 4         15
 30        10
 29        10
 27         9
Name: cluster, dtype: int64 

eps: 0.002 min_samples: 19
Cluster Count: 57
 0     194616
-1       2024
 40      1782
 2        694
 15       617
 16       342
 42       282
 30       269
 34       238
 12       218
 9        212
 1        188
 11       169
 38       146
 14        91
 25        90
 43        78
 39        76
 48        72
 32        72
 3         70
 17        69
 41        68
 35        64
 4         58
 8         56
 51        51
 31        48
 29        46
 36        39
 23        35
 50        34
 55        34
 52        34
 27        32
 54        29
 46        28
 33        28
 20        26
 18        26
 24        26
 47        25
 5         23
 56        22
 10        22
 37        21
 26        21
 49        19
 53        19
 7         19
 45        19
 19        19
 21        19
 22        19
 44        12
 28        12
 13         9
 6          4
Name: cluster, dtype: int64 

eps: 0.002 min_samples: 23
Cluster Count: 60
 0     194506
-1       2779
 43      1520
 2        550
 18       512
 22       296
 46       257
 41       139
 42       138
 45       118
 1        115
 19       115
 30       108
 14        96
 17        91
 21        85
 34        81
 36        80
 3         77
 13        77
 40        75
 10        75
 26        73
 58        71
 23        65
 5         64
 6         61
 39        61
 51        59
 35        59
 37        57
 15        55
 16        53
 12        52
 8         50
 4         47
 7         46
 44        43
 33        42
 24        42
 29        40
 54        40
 52        40
 38        39
 20        39
 48        36
 55        34
 28        32
 9         30
 56        28
 11        27
 32        25
 57        25
 49        24
 53        24
 59        24
 31        24
 27        23
 25        16
 47        14
 50         7
Name: cluster, dtype: int64 

eps: 0.002 min_samples: 27
Cluster Count: 67
 0     194439
-1       3529
 53      1400
 3        314
 2        233
 21       195
 27       160
 25       157
 57       139
 1        102
 23        99
 56        93
 30        90
 36        88
 54        85
 51        82
 22        82
 28        77
 4         77
 34        72
 15        70
 40        68
 39        66
 29        65
 16        64
 48        63
 47        62
 32        58
 6         57
 38        54
 14        52
 10        49
 17        49
 19        48
 5         47
 8         46
 45        46
 31        46
 46        46
 63        45
 43        45
 12        44
 44        44
 11        41
 58        40
 35        40
 42        39
 52        39
 50        36
 26        36
 49        36
 59        35
 55        33
 33        30
 41        30
 9         29
 37        28
 61        28
 62        28
 7         27
 13        27
 60        27
 20        27
 65        19
 18        17
 66        17
 24        16
 64         9
Name: cluster, dtype: int64 

eps: 0.002 min_samples: 31
Cluster Count: 59
 0     194435
-1       4729
 47      1157
 3        211
 6        146
 46       129
 24       111
 48       108
 22        94
 5         90
 52        87
 1         86
 20        82
 4         80
 32        79
 21        75
 38        75
 27        71
 26        68
 2         68
 51        68
 25        67
 16        64
 15        63
 19        62
 44        53
 14        52
 50        52
 43        51
 42        46
 7         46
 40        45
 28        44
 45        42
 17        41
 35        41
 13        41
 49        39
 33        37
 8         33
 18        32
 37        32
 12        32
 57        32
 10        32
 54        32
 39        31
 41        31
 56        31
 34        31
 53        31
 36        23
 58        22
 55        21
 29        21
 30        20
 23        19
 11        19
 9         14
 31         7
Name: cluster, dtype: int64 

eps: 0.002 min_samples: 35
Cluster Count: 47
 0     189831
-1       6130
 13      3024
 12       973
 34       568
 33       311
 11       251
 7        135
 40       124
 37       118
 14       113
 4        113
 5         98
 32        98
 20        94
 9         90
 2         76
 6         73
 1         65
 16        64
 19        64
 24        62
 18        62
 23        61
 25        59
 8         58
 3         55
 15        52
 29        47
 35        47
 38        45
 10        40
 39        37
 44        36
 41        36
 21        36
 31        36
 22        36
 26        36
 27        36
 17        36
 45        35
 30        35
 42        22
 43        21
 28        21
 36        12
 46         9
Name: cluster, dtype: int64 

eps: 0.002 min_samples: 39
Cluster Count: 44
 0     181379
 1       8420
-1       7094
 20      2118
 14       613
 37       433
 12       229
 15       199
 21       178
 36       174
 13       149
 16       135
 17       131
 18       130
 19       127
 41       124
 40       118
 24       113
 35       106
 22       105
 7        101
 4         98
 23        89
 11        82
 28        80
 38        79
 6         77
 3         65
 2         65
 27        64
 25        64
 30        62
 26        62
 39        56
 5         55
 31        53
 29        47
 10        40
 42        39
 9         39
 8         24
 32        22
 33        21
 34        11
 43        11
Name: cluster, dtype: int64 

eps: 0.002 min_samples: 43
Cluster Count: 54
 0     177474
-1       7913
 5       4734
 14      3422
 4       2737
 30      1008
 32       638
 2        499
 1        472
 17       344
 3        341
 28       314
 15       217
 49       211
 46       155
 18       155
 29       147
 16       141
 25       140
 23       127
 27       127
 44       122
 51       108
 24       107
 6         97
 34        92
 9         90
 11        88
 21        88
 22        87
 33        84
 45        79
 10        77
 35        73
 37        72
 47        70
 38        64
 52        62
 19        61
 41        59
 8         57
 42        56
 7         56
 48        56
 20        53
 12        51
 40        49
 43        44
 39        44
 53        30
 36        29
 13        27
 26        11
 50        11
 31        11
Name: cluster, dtype: int64 

eps: 0.002 min_samples: 47
Cluster Count: 53
 0     176993
-1       8970
 9       3970
 18      3422
 4       2751
 34      1008
 35       638
 7        502
 2        484
 17       465
 1        336
 5        208
 48       194
 19       188
 32       165
 30       149
 33       147
 20       141
 31       130
 26       127
 21       126
 28       120
 10       112
 49       108
 6        108
 8        107
 37        92
 3         91
 25        88
 11        85
 36        84
 46        83
 29        82
 27        79
 43        79
 44        78
 13        77
 23        76
 24        74
 38        73
 12        67
 22        65
 14        64
 50        62
 41        56
 16        51
 40        49
 45        48
 47        48
 39        47
 42        29
 15        29
 52        29
 51        27
Name: cluster, dtype: int64 

eps: 0.002 min_samples: 51
Cluster Count: 52
 0     176962
-1      10199
 13      3773
 22      3199
 5       2416
 41       693
 42       638
 10       502
 21       485
 1        336
 2        290
 7        208
 6        194
 12       182
 35       165
 3        163
 40       152
 9        141
 28       140
 34       135
 26       132
 30       127
 25       126
 14       112
 27       111
 47       111
 8        108
 36        98
 45        97
 11        96
 31        96
 44        92
 4         91
 29        88
 38        87
 15        85
 43        84
 33        82
 23        79
 48        73
 50        57
 19        55
 16        53
 32        52
 49        52
 18        51
 46        51
 37        33
 39        32
 17        31
 51        31
 20        24
 24        11
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 15
Cluster Count: 27
 0     197632
 18      3591
-1        722
 25       511
 21       250
 1         62
 20        60
 17        59
 5         57
 15        54
 9         49
 14        44
 2         42
 19        35
 6         33
 16        32
 23        28
 22        27
 24        26
 3         24
 8         23
 10        22
 12        21
 4         16
 26        16
 13        15
 11        15
 7         15
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 19
Cluster Count: 25
 0     197620
 12      3579
-1       1095
 21       437
 15        88
 18        62
 1         60
 3         50
 11        50
 14        48
 9         43
 2         42
 7         37
 16        34
 10        30
 20        26
 22        25
 13        24
 19        21
 8         20
 4         19
 5         19
 17        15
 23        14
 24        14
 6          9
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 23
Cluster Count: 19
 0     197579
 10      3214
-1       1476
 17       361
 8        317
 15        54
 1         51
 6         47
 11        43
 7         43
 14        42
 3         37
 5         34
 12        32
 16        30
 4         29
 9         24
 13        23
 2         23
 18        22
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 27
Cluster Count: 16
 0     197516
 9       3211
-1       1729
 8        313
 15       177
 13       156
 2         49
 1         48
 12        48
 6         41
 7         38
 11        37
 4         32
 10        32
 5         27
 3         14
 14        13
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 31
Cluster Count: 18
 0     195645
-1       2069
 12      2064
 2       1803
 8        741
 11       294
 6        173
 15       122
 16       106
 13        90
 17        70
 9         58
 7         48
 5         41
 14        40
 1         32
 4         32
 3         31
 10        22
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 35
Cluster Count: 20
 0     194614
-1       2414
 13      2053
 4       1303
 1        951
 5        421
 8        357
 10       295
 12       290
 15       118
 6        109
 16        94
 14        78
 3         65
 7         64
 2         62
 11        56
 9         44
 17        42
 19        35
 18        16
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 39
Cluster Count: 28
 0     194591
-1       2718
 21      1788
 2        738
 10       704
 12       338
 15       261
 23       257
 9        218
 20       218
 5        212
 17       198
 1        188
 7        103
 13       102
 19        81
 11        73
 16        72
 27        70
 3         68
 22        64
 14        64
 8         64
 18        62
 24        59
 25        59
 26        56
 6         42
 4         13
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 43
Cluster Count: 39
 0     194513
-1       3194
 30      1528
 2        650
 13       609
 17       274
 34       257
 21       175
 28       142
 9        141
 29       118
 1        115
 15       110
 33       105
 10        96
 14        87
 19        86
 24        80
 22        76
 8         69
 7         69
 12        69
 27        68
 23        66
 16        65
 5         64
 4         64
 37        64
 11        64
 26        61
 25        57
 3         52
 31        47
 38        44
 20        44
 35        43
 36        43
 6         31
 18        26
 32        15
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 47
Cluster Count: 33
 0     194488
-1       4138
 27      1493
 2        650
 14       589
 30       149
 16       111
 1        110
 21       108
 13       105
 9         96
 29        93
 12        87
 24        83
 26        82
 28        79
 7         79
 22        75
 20        72
 6         71
 17        67
 15        65
 4         64
 8         62
 23        59
 25        56
 10        55
 11        53
 32        49
 18        48
 3         47
 31        47
 5         26
 19        25
Name: cluster, dtype: int64 

eps: 0.003 min_samples: 51
Cluster Count: 27
 0     194450
-1       4817
 22      1489
 3        414
 10       352
 2        236
 11       169
 24       139
 1        110
 14       105
 9         99
 7         96
 23        93
 8         82
 17        75
 20        71
 6         70
 12        68
 4         64
 18        62
 19        59
 13        59
 5         58
 16        55
 25        54
 21        52
 15        51
 26        32
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 15
Cluster Count: 24
 0     197764
 15      3865
 22       543
 16       356
-1        219
 6        112
 2        100
 9         83
 3         58
 8         51
 19        46
 20        42
 18        33
 11        29
 12        24
 4         23
 13        20
 1         19
 10        19
 23        18
 14        15
 17        12
 5         12
 21         9
 7          9
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 19
Cluster Count: 18
 0     197748
 11      3685
-1        600
 16       520
 12       325
 10       131
 5         97
 7         54
 6         46
 9         42
 14        37
 15        36
 13        35
 1         31
 3         23
 8         22
 2         19
 17        18
 4         12
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 23
Cluster Count: 22
 0     197733
 10      3593
-1        853
 20       509
 14        99
 16        69
 12        61
 9         57
 1         57
 7         52
 4         49
 13        38
 11        36
 15        35
 3         34
 18        33
 6         32
 8         30
 5         28
 2         25
 19        24
 17        23
 21        11
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 27
Cluster Count: 14
 0     197630
 8       3595
-1       1203
 13       489
 10        88
 1         60
 9         58
 3         56
 12        56
 7         54
 5         49
 11        39
 4         38
 2         36
 6         30
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 31
Cluster Count: 11
 0     197609
 6       3581
-1       1415
 10       467
 1         59
 9         58
 8         57
 2         56
 5         51
 4         48
 7         48
 3         32
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 35
Cluster Count: 11
 0     197585
 5       3531
-1       1643
 9        368
 8         61
 1         51
 3         47
 7         44
 4         43
 6         38
 2         35
 10        35
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 39
Cluster Count: 11
 0     197516
 5       3220
-1       1875
 4        239
 9        187
 8        155
 6         67
 7         54
 2         52
 1         48
 3         47
 10        21
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 43
Cluster Count: 9
 0    195666
 5      3200
-1      2101
 1      1820
 3       209
 8       187
 7       152
 6        71
 2        45
 4        30
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 47
Cluster Count: 11
 0     195645
 6       2448
-1       2278
 1       1802
 4        737
 2        179
 7        130
 8        117
 5         52
 9         34
 3         30
 10        29
Name: cluster, dtype: int64 

eps: 0.004 min_samples: 51
Cluster Count: 13
 0     194616
-1       2442
 9       2058
 3       1731
 1       1029
 7        374
 6        363
 8        294
 4        173
 11       124
 12       113
 10        67
 2         65
 5         32
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 15
Cluster Count: 24
 0     197764
 15      3865
 22       543
 16       356
-1        219
 6        112
 2        100
 9         83
 3         58
 8         51
 19        46
 20        42
 18        33
 11        29
 12        24
 4         23
 13        20
 1         19
 10        19
 23        18
 14        15
 17        12
 5         12
 21         9
 7          9
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 19
Cluster Count: 18
 0     197748
 11      3685
-1        600
 16       520
 12       325
 10       131
 5         97
 7         54
 6         46
 9         42
 14        37
 15        36
 13        35
 1         31
 3         23
 8         22
 2         19
 17        18
 4         12
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 23
Cluster Count: 22
 0     197733
 10      3593
-1        853
 20       509
 14        99
 16        69
 12        61
 9         57
 1         57
 7         52
 4         49
 13        38
 11        36
 15        35
 3         34
 18        33
 6         32
 8         30
 5         28
 2         25
 19        24
 17        23
 21        11
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 27
Cluster Count: 14
 0     197630
 8       3595
-1       1203
 13       489
 10        88
 1         60
 9         58
 3         56
 12        56
 7         54
 5         49
 11        39
 4         38
 2         36
 6         30
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 31
Cluster Count: 11
 0     197609
 6       3581
-1       1415
 10       467
 1         59
 9         58
 8         57
 2         56
 5         51
 4         48
 7         48
 3         32
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 35
Cluster Count: 11
 0     197585
 5       3531
-1       1643
 9        368
 8         61
 1         51
 3         47
 7         44
 4         43
 6         38
 2         35
 10        35
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 39
Cluster Count: 11
 0     197516
 5       3220
-1       1875
 4        239
 9        187
 8        155
 6         67
 7         54
 2         52
 1         48
 3         47
 10        21
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 43
Cluster Count: 9
 0    195666
 5      3200
-1      2101
 1      1820
 3       209
 8       187
 7       152
 6        71
 2        45
 4        30
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 47
Cluster Count: 11
 0     195645
 6       2448
-1       2278
 1       1802
 4        737
 2        179
 7        130
 8        117
 5         52
 9         34
 3         30
 10        29
Name: cluster, dtype: int64 

eps: 0.005 min_samples: 51
Cluster Count: 13
 0     194616
-1       2442
 9       2058
 3       1731
 1       1029
 7        374
 6        363
 8        294
 4        173
 11       124
 12       113
 10        67
 2         65
 5         32
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 15
Cluster Count: 4
 0    198355
 3      4985
-1        93
 1        26
 2        22
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 19
Cluster Count: 6
 0    197818
 4      4289
 5       662
 2       431
-1       146
 1       104
 3        31
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 23
Cluster Count: 9
 0    197772
 6      4274
 8       596
 4       294
-1       222
 3       106
 2       101
 7        68
 1        24
 5        24
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 27
Cluster Count: 14
 0     197764
 8       3868
 13       543
-1        418
 9        346
 5        106
 7         86
 4         58
 11        56
 6         53
 12        49
 10        45
 3         44
 1         30
 2         15
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 31
Cluster Count: 12
 0     197755
 6       3817
-1        625
 11       537
 7        332
 2        103
 4         77
 3         48
 9         44
 5         41
 10        37
 1         34
 8         31
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 35
Cluster Count: 10
 0    197746
 7      3687
-1       864
 9       533
 8       319
 5        87
 1        77
 3        58
 6        40
 2        35
 4        35
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 39
Cluster Count: 8
 0    197741
 4      3658
-1      1093
 7       508
 6       214
 3        84
 1        68
 5        66
 2        49
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 43
Cluster Count: 8
 0    197705
 3      3652
-1      1249
 7       506
 6        92
 5        85
 2        65
 1        64
 4        63
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 47
Cluster Count: 9
 0    197689
 3      3590
-1      1344
 7       489
 6        87
 5        73
 2        59
 4        53
 1        50
 8        47
Name: cluster, dtype: int64 

eps: 0.007 min_samples: 51
Cluster Count: 6
 0    197609
 3      3590
-1      1628
 5       462
 1        69
 4        65
 2        58
Name: cluster, dtype: int64 